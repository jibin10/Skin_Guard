<button mat-raised-button routerLink="/appointment/create" color="primary" *ngIf="!isLoading">Book An Appointment</button>

<mat-spinner *ngIf="isLoading"></mat-spinner>
<div *ngIf="(appointmentData.length > 0 && (role == 'Admin' || role == 'Patient')) && !isLoading">
  <h3>New Appointments</h3>
  <mat-accordion *ngFor="let appointment of appointmentData; index as i">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
      {{ i+1 +". " }} {{ appointment.appointment_date | date:'fullDate' }}
      </mat-expansion-panel-header>
      <p>Name: {{ appointment.user_details[0].name }}</p>
      <p>Time: {{ appointment.appointment_time }}</p>
      <p>Doctor: {{ appointment.doctor_details[0].name }}</p>
      <p>Condition: {{ appointment.condition }}</p>

      <mat-action-row *ngIf="userIsAuthenticated">
        <a mat-button color="primary" [routerLink]="['/inspect/quick', appointment.patient_id, appointment.id]" >Quick Test</a>
        <a mat-button color="primary" *ngIf="role != 'Patient'" [routerLink]="['/inspect/advanced', appointment.patient_id, appointment.id]" >Advanced Test</a>
        <button mat-button color="warn" (click)="confirmDialog(appointment.id)" *ngIf="role == 'Admin'">Delete</button>
      </mat-action-row>
    </mat-expansion-panel>
  </mat-accordion>
</div>
<mat-paginator
[length]="totalAppointments"
[pageSize]="appointmentsPerPage"
[pageSizeOptions]="pageSizeOptions"
(page)="onChangedPage($event)"
*ngIf="appointmentData?.length > 0 && (role == 'Admin' || role == 'Patient')">
</mat-paginator>
<p class="info-text mat-body-1" *ngIf="appointmentData?.length <= 0 && !isLoading">No new appointments!</p>
